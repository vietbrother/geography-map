import React, { Component } from 'react'
import {
  StyleSheet,
  View,
  Image,
  Text,
  StatusBar,
  ScrollView,
  TouchableOpacity,
  Animated,
  Dimensions,
  Alert
} from 'react-native'

import { RkConfig, RkCard, RkButton, RkChoiceGroup, RkChoice, RkText } from 'react-native-ui-kitten'

import ThemeService from '../util/ThemeService'

import MapView, { PROVIDER_GOOGLE, MAP_TYPES, Polygon, ProviderPropType } from 'react-native-maps'

const { width, height } = Dimensions.get('window')

const ASPECT_RATIO = width / height
const LATITUDE = 11.3386552
const LONGITUDE = 106.1044065
const LATITUDE_DELTA = 0.3
const LONGITUDE_DELTA = LATITUDE_DELTA * ASPECT_RATIO
let id = 0

const data = [[106.075733999999997, 11.407420999999999], [106.075806999999998, 11.406765999999999], [106.076061999999993, 11.405592], [106.076074000000006, 11.404750999999999], [106.076006000000007, 11.402856999999999], [106.075817999999998, 11.401474], [106.074675999999997, 11.398096000000001], [106.074337999999997, 11.397466], [106.073862000000005, 11.396865999999999], [106.073065999999997, 11.396178000000001], [106.071748999999997, 11.39489], [106.071391000000006, 11.394590000000001], [106.071693999999994, 11.394335], [106.071980999999994, 11.393855], [106.072597999999999, 11.392491], [106.073239000000001, 11.391268999999999], [106.073661000000001, 11.390594], [106.074100000000001, 11.390158], [106.075469999999996, 11.389127999999999], [106.075695999999994, 11.388738], [106.075739999999996, 11.388349], [106.075631999999999, 11.38796], [106.075478000000004, 11.387708999999999], [106.074946999999995, 11.387463], [106.074650000000005, 11.387257999999999], [106.073659000000006, 11.386117], [106.073172999999997, 11.38519], [106.072985000000003, 11.384715], [106.072940000000003, 11.384413], [106.072948999999994, 11.383959000000001], [106.072991999999999, 11.383656], [106.073177000000001, 11.382997], [106.073251999999997, 11.382759], [106.073395000000005, 11.382542000000001], [106.073842999999997, 11.382087], [106.074181999999993, 11.381891], [106.075124000000002, 11.381621000000001], [106.075303000000005, 11.381315000000001], [106.076448999999997, 11.378562000000001], [106.076573999999994, 11.377895000000001], [106.076594999999998, 11.377252], [106.076756000000003, 11.376504000000001], [106.076811000000006, 11.375745], [106.076809999999995, 11.375458], [106.076059999999998, 11.372997], [106.075799000000004, 11.371664000000001], [106.075445000000002, 11.369232999999999], [106.074939000000001, 11.366526], [106.074650000000005, 11.365463], [106.074115000000006, 11.364343999999999], [106.073670000000007, 11.36384], [106.073070000000001, 11.362485], [106.072749999999999, 11.361278], [106.072682, 11.360087], [106.072551000000004, 11.359444], [106.072265000000002, 11.359003], [106.075259000000003, 11.354317], [106.080040999999994, 11.35141], [106.079624999999993, 11.349603999999999], [106.079042000000001, 11.346301], [106.078933000000006, 11.343938], [106.079016999999993, 11.343137], [106.078923000000003, 11.340195], [106.078858999999994, 11.339715], [106.078498999999994, 11.339383], [106.078305999999998, 11.33771], [106.078339999999997, 11.335796], [106.077229000000003, 11.334899999999999], [106.074611000000004, 11.332974999999999], [106.071792000000002, 11.331170999999999], [106.071747999999999, 11.33081], [106.072027000000006, 11.330158000000001], [106.073463000000004, 11.329469], [106.075027000000006, 11.328874000000001], [106.075293000000002, 11.328709], [106.076182000000003, 11.328001], [106.076689000000002, 11.327513], [106.076792999999995, 11.327263], [106.076835000000003, 11.326798], [106.077077000000003, 11.32616], [106.077449000000001, 11.325475000000001], [106.077456999999995, 11.325158999999999], [106.077358000000004, 11.324146000000001], [106.077290000000005, 11.323892000000001], [106.077188000000007, 11.323604], [106.076769999999996, 11.322941], [106.076701, 11.322753000000001], [106.076312000000001, 11.319100000000001], [106.076402000000002, 11.318636], [106.076661999999999, 11.318205000000001], [106.076921999999996, 11.317945999999999], [106.077124999999995, 11.317830000000001], [106.077299999999994, 11.317857999999999], [106.077854000000002, 11.318401], [106.078609, 11.318427], [106.079103000000003, 11.318311], [106.079248000000007, 11.318224000000001], [106.079363999999998, 11.318109], [106.079594, 11.317707], [106.080028999999996, 11.317303000000001], [106.080172000000005, 11.316757000000001], [106.080197999999996, 11.315939999999999], [106.080284000000006, 11.315695], [106.080472, 11.315450999999999], [106.080631999999994, 11.31535], [106.080893000000003, 11.315277], [106.081648000000001, 11.315174000000001], [106.081936999999996, 11.314814], [106.082065, 11.313939], [106.082250999999999, 11.313178000000001], [106.082205999999999, 11.312875999999999], [106.082088999999996, 11.31259], [106.081475999999995, 11.312033], [106.081025999999994, 11.311934000000001], [106.079325999999995, 11.311926], [106.079035000000005, 11.311798], [106.078480999999996, 11.311325999999999], [106.077506999999997, 11.311229000000001], [106.076796000000002, 11.311275], [106.076431999999997, 11.311218999999999], [106.076362000000003, 11.311114], [106.076273999999998, 11.310173000000001], [106.075958999999997, 11.308052999999999], [106.075502, 11.305728], [106.075485999999998, 11.30499], [106.075567000000007, 11.30331], [106.075536999999997, 11.302918], [106.077001999999993, 11.302763000000001], [106.080770999999999, 11.302467], [106.081271999999998, 11.303628], [106.082864000000001, 11.305997], [106.084059999999994, 11.305555999999999], [106.084352999999993, 11.305365999999999], [106.084768999999994, 11.30494], [106.084914999999995, 11.304582], [106.084913, 11.304147], [106.085003, 11.303890000000001], [106.085104000000001, 11.303756], [106.085329999999999, 11.303744], [106.085554999999999, 11.303464], [106.085723000000002, 11.303017000000001], [106.085933999999995, 11.302179000000001], [106.086461, 11.300972], [106.086809000000002, 11.300345999999999], [106.087406000000001, 11.299696000000001], [106.088431, 11.298821999999999], [106.088927999999996, 11.298619], [106.089628000000005, 11.298617], [106.091279, 11.298778], [106.091752999999997, 11.298743], [106.092125999999993, 11.298641], [106.093185000000005, 11.297867], [106.093591000000004, 11.297731000000001], [106.093851000000001, 11.297753], [106.094054999999997, 11.297864000000001], [106.094532000000001, 11.298453], [106.094667999999999, 11.298541999999999], [106.095130999999995, 11.298563], [106.096452999999997, 11.298469000000001], [106.098135400000004, 11.2982548], [106.097998500000003, 11.2975425], [106.097434000000007, 11.2962785], [106.096261799999994, 11.294180000000001], [106.0960848, 11.2934745], [106.096249200000003, 11.292791599999999], [106.096522300000004, 11.292116500000001], [106.096982999999994, 11.292305499999999], [106.0981278, 11.2929984], [106.098493000000005, 11.2933074], [106.098920199999995, 11.2935161], [106.099470699999998, 11.294822699999999], [106.099664700000005, 11.295178699999999], [106.099992700000001, 11.2954457], [106.100547700000007, 11.2957117], [106.101882700000004, 11.2961417], [106.103275699999998, 11.296828700000001], [106.103661700000004, 11.2973067], [106.104145700000004, 11.298361699999999], [106.105392699999996, 11.2973427], [106.105708699999994, 11.2967207], [106.105960699999997, 11.295973699999999], [106.106086700000006, 11.2949787], [106.109629200000001, 11.295086599999999], [106.110123700000003, 11.2951017], [106.114889700000006, 11.2955147], [106.117279699999997, 11.295831700000001], [106.117908700000001, 11.295997699999999], [106.118555700000002, 11.2962297], [106.118930700000007, 11.296462699999999], [106.120217699999998, 11.2976057], [106.124113699999995, 11.3007977], [106.124202600000004, 11.300857000000001], [106.126328700000002, 11.302413700000001], [106.128817699999999, 11.3044137], [106.129535700000005, 11.305078699999999], [106.130172700000003, 11.3050327], [106.131267699999995, 11.3050707], [106.133045699999997, 11.305206699999999], [106.135750000000002, 11.30527], [106.138126, 11.305249999999999], [106.138304000000005, 11.306656], [106.138610999999997, 11.30996], [106.139052000000007, 11.312772000000001], [106.139234999999999, 11.313374], [106.139554000000004, 11.313819000000001], [106.140099000000006, 11.314398000000001], [106.140619999999998, 11.314842000000001], [106.141390999999999, 11.315219000000001], [106.141979000000006, 11.315306], [106.144869999999997, 11.314491], [106.144621000000001, 11.316577000000001], [106.144561999999993, 11.317406999999999], [106.144169000000005, 11.320143], [106.144017000000005, 11.320577], [106.144569000000004, 11.320574000000001], [106.145178000000001, 11.320489], [106.145898000000003, 11.320543000000001], [106.146673000000007, 11.320188], [106.147806000000003, 11.319955], [106.148300000000006, 11.320057], [106.148929999999993, 11.320086], [106.149266999999995, 11.320311999999999], [106.149906999999999, 11.320258000000001], [106.150075000000001, 11.320299], [106.150644, 11.320641], [106.151149000000004, 11.321011], [106.151081000000005, 11.321221], [106.150653000000005, 11.321564], [106.150527999999994, 11.321865000000001], [106.150718999999995, 11.322383], [106.150803999999994, 11.322507], [106.150846999999999, 11.322963], [106.150964999999999, 11.323408000000001], [106.150934000000007, 11.323699], [106.150872000000007, 11.323855], [106.150762999999998, 11.32394], [106.150788000000006, 11.324426000000001], [106.150893999999994, 11.324897], [106.151269999999997, 11.325293], [106.151976000000005, 11.326204000000001], [106.152199999999993, 11.32653], [106.152359000000004, 11.326872], [106.152906000000002, 11.327076999999999], [106.153379999999999, 11.327406999999999], [106.153548999999998, 11.327453999999999], [106.154049999999998, 11.327342], [106.154427999999996, 11.32775], [106.154731999999996, 11.328296], [106.154808000000003, 11.329955], [106.154698999999994, 11.33029], [106.154674999999997, 11.330868000000001], [106.154792, 11.331173], [106.154781999999997, 11.331526999999999], [106.155073999999999, 11.331970999999999], [106.155223000000007, 11.332665], [106.155237999999997, 11.332973000000001], [106.155798000000004, 11.334217000000001], [106.157126000000005, 11.335504999999999], [106.157477999999998, 11.335978000000001], [106.157578000000001, 11.336377000000001], [106.157546999999994, 11.336883], [106.157591999999994, 11.337806], [106.157841000000005, 11.338521999999999], [106.158165999999994, 11.339150999999999], [106.158355999999998, 11.340218], [106.160044999999997, 11.340888], [106.161454000000006, 11.341283000000001], [106.161618000000004, 11.341379999999999], [106.162077999999994, 11.342871000000001], [106.162919000000002, 11.344035], [106.164246000000006, 11.345032], [106.164531999999994, 11.345311000000001], [106.164878000000002, 11.345419], [106.165531000000001, 11.34722], [106.165841999999998, 11.348236999999999], [106.166155000000003, 11.349952999999999], [106.166285999999999, 11.350208], [106.166381999999999, 11.350287], [106.167094000000006, 11.350441999999999], [106.167627999999993, 11.350773999999999], [106.167805999999999, 11.351013], [106.167936999999995, 11.351281999999999], [106.168165999999999, 11.352316], [106.168361000000004, 11.352601], [106.168927999999994, 11.352949000000001], [106.169656000000003, 11.353248000000001], [106.170205999999993, 11.353628], [106.171387999999993, 11.354559999999999], [106.171631000000005, 11.354703000000001], [106.171775999999994, 11.354702], [106.171888999999993, 11.354622000000001], [106.172016999999997, 11.354431999999999], [106.172174999999996, 11.353427999999999], [106.172351000000006, 11.353205000000001], [106.172608999999994, 11.35314], [106.173287000000002, 11.353104999999999], [106.173675000000003, 11.353152], [106.173917000000003, 11.353247], [106.174111999999994, 11.35342], [106.174114000000003, 11.353992999999999], [106.174227999999999, 11.354183000000001], [106.174373000000003, 11.354214000000001], [106.174695999999997, 11.354150000000001], [106.176242000000002, 11.353316], [106.176516000000007, 11.353299], [106.176564999999997, 11.353379], [106.176626999999996, 11.356638999999999], [106.176659999999998, 11.356799000000001], [106.176772999999997, 11.356845], [106.176997999999998, 11.356685000000001], [106.177867000000006, 11.355934], [106.178044, 11.355902], [106.178190000000001, 11.355981], [106.178303999999997, 11.356154999999999], [106.178321999999994, 11.356522], [106.178217000000004, 11.358669000000001], [106.178298999999996, 11.358828000000001], [106.178460999999999, 11.358986], [106.178895999999995, 11.358976999999999], [106.178787, 11.359602000000001], [106.178644000000006, 11.360044], [106.178268000000003, 11.360854], [106.178134, 11.361663], [106.178059000000005, 11.361858], [106.177712, 11.362249], [106.177651999999995, 11.362489], [106.177744000000004, 11.362952], [106.177914000000001, 11.363401], [106.178111999999999, 11.363685], [106.178416999999996, 11.363892999999999], [106.178484999999995, 11.364076000000001], [106.178611000000004, 11.364981999999999], [106.181528, 11.365441000000001], [106.182423999999997, 11.365799000000001], [106.183256999999998, 11.366299], [106.184507999999994, 11.367521999999999], [106.184603999999993, 11.367537], [106.184889999999996, 11.367143], [106.185096999999999, 11.367063], [106.185209, 11.367141], [106.185593999999995, 11.367642999999999], [106.186271000000005, 11.369088], [106.186870999999996, 11.370741000000001], [106.187422999999995, 11.373063999999999], [106.187691999999998, 11.376488999999999], [106.187603999999993, 11.378437999999999], [106.187399999999997, 11.379296], [106.187342000000001, 11.379747999999999], [106.187361999999993, 11.379885], [106.188342000000006, 11.380998], [106.188777999999999, 11.381837000000001], [106.188860000000005, 11.382425], [106.188902999999996, 11.383190000000001], [106.189181000000005, 11.384155], [106.189430999999999, 11.384653999999999], [106.189701999999997, 11.384995999999999], [106.190071000000003, 11.385318], [106.190206000000003, 11.385498999999999], [106.190326999999996, 11.385989], [106.190528, 11.3864], [106.190638000000007, 11.386537000000001], [106.190798000000001, 11.386673999999999], [106.191629000000006, 11.386900000000001], [106.189588000000001, 11.388194], [106.188305, 11.389169000000001], [106.187550000000002, 11.387922], [106.187008000000006, 11.38715], [106.186729, 11.386886000000001], [106.186526999999998, 11.386804], [106.186291999999995, 11.386805000000001], [106.185896999999997, 11.387038], [106.185637999999997, 11.387295999999999], [106.185287000000002, 11.387893999999999], [106.185197000000002, 11.388308], [106.185091999999997, 11.389246999999999], [106.185117000000005, 11.389338], [106.185218000000006, 11.389445], [106.185559999999995, 11.389597], [106.186490000000006, 11.389727000000001], [106.18638, 11.389901999999999], [106.185672999999994, 11.390753], [106.184009000000003, 11.392538999999999], [106.183901000000006, 11.392832], [106.183173999999994, 11.393414999999999], [106.181759999999997, 11.394765], [106.180801000000002, 11.395785], [106.180426999999995, 11.396037], [106.178872999999996, 11.396739999999999], [106.179485, 11.398327], [106.179838000000004, 11.398256], [106.180211999999997, 11.398244999999999], [106.181352000000004, 11.398621], [106.182024999999996, 11.398944], [106.180639999999997, 11.401868], [106.180199000000002, 11.402558000000001], [106.180391999999998, 11.403494999999999], [106.180352999999997, 11.40497], [106.180411000000007, 11.405542000000001], [106.180908000000002, 11.406883000000001], [106.181033299999996, 11.407736999999999], [106.181098000000006, 11.408177999999999], [106.181540999999996, 11.409872], [106.181606000000002, 11.410792000000001], [106.181517999999997, 11.411210000000001], [106.181386000000003, 11.411519], [106.180718999999996, 11.412469], [106.180469000000002, 11.412905], [106.180294000000004, 11.413611], [106.180291999999994, 11.414564], [106.179908999999995, 11.416504], [106.179755999999998, 11.417462], [106.179723999999993, 11.417942], [106.179016000000004, 11.419185000000001], [106.177814999999995, 11.420763000000001], [106.177609000000004, 11.420916999999999], [106.177029000000005, 11.421225], [106.176552000000001, 11.421685], [106.176417999999998, 11.422024], [106.176395999999997, 11.422954000000001], [106.176320000000004, 11.423375], [106.176165999999995, 11.423643], [106.175734000000006, 11.424021], [106.175630999999996, 11.424162000000001], [106.175529999999995, 11.424557], [106.175039999999996, 11.425298], [106.174655999999999, 11.426256], [106.174347999999995, 11.426626000000001], [106.173387000000005, 11.427197], [106.172379000000006, 11.427481999999999], [106.171940000000006, 11.427509000000001], [106.171848999999995, 11.427548], [106.171682000000004, 11.427688], [106.171655999999999, 11.427778], [106.171659000000005, 11.42844], [106.171505999999994, 11.428849], [106.171300000000002, 11.429079], [106.170945000000003, 11.429327000000001], [106.170660999999996, 11.429442], [106.170506000000003, 11.429456], [106.168811000000005, 11.429195], [106.168009999999995, 11.429275000000001], [106.167584000000005, 11.429391000000001], [106.166177000000005, 11.429944000000001], [106.165853999999996, 11.430123999999999], [106.165558000000004, 11.430493999999999], [106.165355000000005, 11.431082999999999], [106.165002000000001, 11.431577000000001], [106.164840999999996, 11.431673], [106.163842000000002, 11.431882999999999], [106.163584999999998, 11.432012], [106.163471999999999, 11.432123000000001], [106.163376, 11.432282000000001], [106.163329000000004, 11.432601], [106.163382999999996, 11.433871999999999], [106.163352000000003, 11.434238000000001], [106.163280999999998, 11.434561], [106.162768, 11.435468], [106.162789000000004, 11.436469000000001], [106.162709000000007, 11.436676], [106.162612999999993, 11.436788], [106.162194, 11.43698], [106.161501000000001, 11.437014], [106.161193999999995, 11.437063], [106.161033000000003, 11.437143000000001], [106.160872999999995, 11.437334], [106.160105999999999, 11.438988999999999], [106.160041000000007, 11.439052999999999], [106.159929000000005, 11.439085], [106.159683000000001, 11.439044000000001], [106.159026999999995, 11.439047], [106.158947999999995, 11.439012999999999], [106.158799000000002, 11.438867], [106.158562000000003, 11.438497], [106.158360000000002, 11.438309], [106.158272999999994, 11.438257999999999], [106.157757000000004, 11.438224999999999], [106.157324000000003, 11.438093], [106.156886, 11.437768], [106.156509, 11.437408], [106.156193999999999, 11.437348999999999], [106.155433000000002, 11.437334], [106.153609000000003, 11.436743], [106.152306999999993, 11.436653], [106.151973999999996, 11.436552000000001], [106.151904000000002, 11.436483000000001], [106.151516999999998, 11.435708999999999], [106.151262000000003, 11.435452], [106.150920999999997, 11.435273], [106.150014999999996, 11.434936], [106.149805000000001, 11.434696000000001], [106.149593999999993, 11.434343], [106.148919000000006, 11.433795], [106.148284000000004, 11.433475], [106.147558000000004, 11.433322], [106.147443999999993, 11.433176], [106.147390999999999, 11.432952999999999], [106.147259000000005, 11.432755], [106.146674000000004, 11.432826], [106.146445999999997, 11.43275], [106.145543000000004, 11.431918], [106.145466999999996, 11.431397], [106.145387999999997, 11.431267999999999], [106.145247999999995, 11.431174], [106.144828000000004, 11.431115999999999], [106.144678999999996, 11.430987], [106.144194999999996, 11.430068], [106.143915000000007, 11.429948], [106.143618000000004, 11.429940999999999], [106.143207000000004, 11.430002], [106.143006, 11.429952], [106.142326999999995, 11.429304], [106.141101000000006, 11.428611], [106.140968999999998, 11.428457], [106.140801999999994, 11.428148], [106.140618000000003, 11.428001999999999], [106.140049000000005, 11.427746000000001], [106.139542000000006, 11.427756], [106.139402000000004, 11.427697], [106.138748000000007, 11.426824999999999], [106.138650999999996, 11.426757], [106.138397999999995, 11.426714], [106.137673000000007, 11.426735000000001], [106.137349999999998, 11.426693], [106.136793999999995, 11.42651], [106.135358999999994, 11.425878000000001], [106.135183999999995, 11.42587], [106.134878, 11.425897000000001], [106.134381000000005, 11.426019999999999], [106.132869999999997, 11.426206000000001], [106.131173000000004, 11.426750999999999], [106.130893999999998, 11.426743999999999], [106.130534999999995, 11.42653], [106.130412000000007, 11.426504], [106.130386000000001, 11.426634], [106.130553000000006, 11.426805], [106.130623999999997, 11.426933999999999], [106.130615000000006, 11.427046000000001], [106.130441000000005, 11.427236000000001], [106.130073999999993, 11.427363], [106.129706999999996, 11.427415999999999], [106.129568000000006, 11.427536999999999], [106.129515999999995, 11.427614999999999], [106.129420999999994, 11.428037], [106.129389000000003, 11.428656999999999], [106.129362999999998, 11.428769000000001], [106.129266999999999, 11.428872999999999], [106.128927000000004, 11.428891], [106.127964000000006, 11.428464999999999], [106.127807000000004, 11.428456000000001], [106.127527999999998, 11.428621], [106.126714000000007, 11.429429000000001], [106.126548, 11.429421], [106.126293000000004, 11.429095], [106.126101000000006, 11.429130000000001], [106.125797000000006, 11.429485], [106.125108999999995, 11.430056], [106.124533, 11.430135], [106.124167, 11.430490000000001], [106.123727000000002, 11.430761], [106.123639999999995, 11.430916], [106.123711999999998, 11.431303], [106.123694999999998, 11.431483999999999], [106.123591000000005, 11.431622000000001], [106.123225000000005, 11.431856], [106.122919999999993, 11.432131999999999], [106.122780000000006, 11.432157999999999], [106.122483000000003, 11.432124999999999], [106.122028, 11.431963], [106.121661000000003, 11.431965], [106.121538999999999, 11.432017], [106.120991000000004, 11.432458], [106.120806999999999, 11.432536000000001], [106.120728999999997, 11.432528], [106.120501000000004, 11.432270000000001], [106.120386999999994, 11.432271], [106.120275000000007, 11.43234], [106.120137, 11.432581000000001], [106.119980999999996, 11.432736999999999], [106.119822999999997, 11.432831999999999], [106.119168999999999, 11.432963000000001], [106.118855999999994, 11.433282999999999], [106.118699000000007, 11.43337], [106.118358000000001, 11.433388000000001], [106.117816000000005, 11.433175], [106.117632999999998, 11.433149999999999], [106.117559, 11.43318], [106.117463000000001, 11.433265], [106.117358999999993, 11.433455], [106.117159999999998, 11.433920000000001], [106.117020999999994, 11.434049], [106.116855000000001, 11.434075999999999], [106.116077000000004, 11.43389], [106.115849999999995, 11.433899], [106.115635999999995, 11.433961999999999], [106.115549000000001, 11.434091], [106.115543000000002, 11.434718999999999], [106.115168999999995, 11.435091], [106.115091000000007, 11.435219999999999], [106.115232000000006, 11.435511999999999], [106.115189000000001, 11.435775], [106.114879000000002, 11.436121], [106.114723999999995, 11.436223], [106.114542, 11.436199], [106.114138999999994, 11.435881], [106.113971000000006, 11.435907], [106.113855000000001, 11.436099], [106.113804999999999, 11.436635000000001], [106.113636999999997, 11.436776999999999], [106.113391100000001, 11.4370403], [106.113361999999995, 11.437488500000001], [106.113254400000002, 11.437775], [106.113201799999999, 11.438139899999999], [106.112966, 11.4381185], [106.112714199999999, 11.4380159], [106.111985200000007, 11.4378794], [106.111716799999996, 11.437834799999999], [106.111570499999999, 11.4377499], [106.111625000000004, 11.437594000000001], [106.112048599999994, 11.437426200000001], [106.112087299999999, 11.437227699999999], [106.111591700000005, 11.437230599999999], [106.111314899999996, 11.4369645], [106.11112, 11.437174000000001], [106.111028000000005, 11.4373129], [106.110551299999997, 11.437055900000001], [106.110579599999994, 11.4367695], [106.110695500000006, 11.436624500000001], [106.110547800000006, 11.4365535], [106.110334100000003, 11.4365573], [106.110225200000002, 11.4362908], [106.110211300000003, 11.4361224], [106.109875000000002, 11.43516], [106.109798999999995, 11.434875], [106.109572999999997, 11.434749], [106.109221000000005, 11.435131], [106.109082000000001, 11.4351], [106.108652000000006, 11.434753000000001], [106.108543999999995, 11.434585], [106.108478000000005, 11.433983], [106.108327000000003, 11.433719], [106.107623000000004, 11.433184000000001], [106.107260999999994, 11.43305], [106.106862000000007, 11.433052999999999], [106.106695999999999, 11.432021000000001], [106.106641999999994, 11.431894], [106.106264999999993, 11.431474], [106.105873000000003, 11.431296], [106.105778000000001, 11.43121], [106.105074999999999, 11.430304], [106.104952999999995, 11.430211], [106.104825000000005, 11.430205000000001], [106.104678000000007, 11.430571], [106.104550000000003, 11.430705], [106.104427999999999, 11.430719], [106.104326999999998, 11.430659], [106.104218000000003, 11.4305], [106.104101, 11.430001000000001], [106.103959000000003, 11.429781999999999], [106.103673999999998, 11.429557000000001], [106.103076000000001, 11.429342], [106.102858999999995, 11.429163000000001], [106.102642000000003, 11.428925], [106.102361999999999, 11.428293], [106.102179000000007, 11.428087], [106.101584000000003, 11.427916], [106.101354000000001, 11.427804], [106.101239000000007, 11.427678], [106.101118999999997, 11.427229000000001], [106.100915000000001, 11.426897], [106.100348999999994, 11.426396], [106.099772000000002, 11.425786], [106.099013999999997, 11.425383], [106.098635000000002, 11.425278], [106.098412999999994, 11.425292000000001], [106.097981000000004, 11.425459999999999], [106.097414000000001, 11.425446000000001], [106.097633000000002, 11.425094], [106.097538999999998, 11.424459000000001], [106.097577999999999, 11.424026], [106.097708999999995, 11.423552000000001], [106.097810999999993, 11.42337], [106.098127000000005, 11.423087000000001], [106.098650000000006, 11.422902000000001], [106.098961000000003, 11.422606999999999], [106.099154999999996, 11.422185000000001], [106.099523000000005, 11.42098], [106.099851000000001, 11.420536], [106.100189999999998, 11.420234000000001], [106.100483999999994, 11.420067], [106.100532999999999, 11.420074], [106.100765999999993, 11.420391], [106.100933999999995, 11.420439], [106.101060000000004, 11.420313999999999], [106.101101, 11.419988], [106.101219999999998, 11.419898], [106.101318000000006, 11.41996], [106.101432000000003, 11.420388000000001], [106.101482000000004, 11.420450000000001], [106.101622000000006, 11.420464000000001], [106.101741000000004, 11.420373], [106.101859000000005, 11.419943999999999], [106.102042999999995, 11.419497], [106.102196000000006, 11.419288999999999], [106.102518000000003, 11.419025], [106.102637000000001, 11.418851999999999], [106.102601000000007, 11.418706999999999], [106.102221, 11.418383], [106.102170999999998, 11.418224], [106.102209000000002, 11.418131000000001], [106.102977999999993, 11.417305000000001], [106.102985000000004, 11.417229000000001], [106.102885999999998, 11.417090999999999], [106.102800999999999, 11.41705], [106.102204999999998, 11.417121], [106.101958999999994, 11.416963000000001], [106.101881000000006, 11.416777], [106.101763000000005, 11.416186], [106.101382999999998, 11.415730999999999], [106.101226999999994, 11.415455], [106.101163, 11.41522], [106.101163, 11.414304], [106.101260999999994, 11.414234], [106.101352000000006, 11.414234], [106.101738999999995, 11.414322], [106.101928000000001, 11.41419], [106.101955000000004, 11.414038], [106.101750999999993, 11.413783], [106.101675999999998, 11.413531000000001], [106.101774000000006, 11.413406], [106.102012999999999, 11.413301000000001], [106.102082999999993, 11.413239000000001], [106.102089000000007, 11.413176], [106.101701000000006, 11.412798], [106.101609999999994, 11.412639], [106.101545000000002, 11.412134], [106.100821999999994, 11.411387], [106.100590999999994, 11.411083], [106.100596999999993, 11.410931], [106.100680999999994, 11.410799000000001], [106.100658999999993, 11.410689], [106.099621999999997, 11.410094000000001], [106.099383000000003, 11.409909000000001], [106.099248000000003, 11.409653], [106.099226000000002, 11.409515000000001], [106.099275000000006, 11.409404], [106.099619000000004, 11.409230000000001], [106.099666999999997, 11.409098], [106.099339000000001, 11.408424999999999], [106.099310000000003, 11.408251999999999], [106.099429999999998, 11.407439], [106.099455000000006, 11.406699], [106.099425999999994, 11.40643], [106.098983000000004, 11.405391], [106.098960000000005, 11.404871999999999], [106.099023000000003, 11.404692000000001], [106.099333000000001, 11.404176], [106.099834999999999, 11.403517000000001], [106.099991000000003, 11.402877], [106.100178999999997, 11.402620000000001], [106.100487000000001, 11.402384], [106.100549999999998, 11.402245000000001], [106.100603000000007, 11.401643], [106.100750000000005, 11.401373], [106.100561999999996, 11.401024], [106.100735999999998, 11.400491000000001], [106.100686999999994, 11.400385999999999], [106.099902999999998, 11.399832], [106.099665000000002, 11.399521], [106.099615, 11.399269], [106.099650999999994, 11.398441999999999], [106.099549999999994, 11.397907999999999], [106.099390999999997, 11.397626000000001], [106.099134000000006, 11.397306], [106.098782, 11.396972], [106.098821000000001, 11.396787], [106.099154999999996, 11.396542999999999], [106.099243999999999, 11.396407], [106.099144999999993, 11.396271], [106.098709999999997, 11.396243], [106.098620999999994, 11.396174999999999], [106.098659999999995, 11.395991], [106.098924999999994, 11.395523000000001], [106.099025999999995, 11.394983], [106.098844, 11.393651], [106.098810999999998, 11.392766999999999], [106.098652000000001, 11.392582000000001], [106.098105000000004, 11.392367], [106.098113999999995, 11.392664], [106.098072000000002, 11.39279], [106.097928999999993, 11.392918], [106.097701000000001, 11.392961], [106.096114999999998, 11.392995000000001], [106.095558999999994, 11.393053], [106.095487000000006, 11.39311], [106.095316999999994, 11.393279], [106.093670000000003, 11.396113], [106.092540999999997, 11.39762], [106.091987000000003, 11.398481], [106.091773000000003, 11.398693], [106.091474000000005, 11.398891000000001], [106.089900999999998, 11.400691999999999], [106.089417999999995, 11.401145], [106.089104000000006, 11.401399], [106.088347999999996, 11.401683999999999], [106.087857999999997, 11.402367999999999], [106.086976000000007, 11.403188], [106.086045999999996, 11.404719999999999], [106.085803999999996, 11.404973999999999], [106.084878000000003, 11.405681], [106.084236000000004, 11.405867000000001], [106.083437000000004, 11.406166000000001], [106.083095, 11.406378], [106.082469000000003, 11.407], [106.081556000000006, 11.407285], [106.080886000000007, 11.40771], [106.080614999999995, 11.407753], [106.080083000000002, 11.407921999999999], [106.078338000000002, 11.410303000000001], [106.07741, 11.411133], [106.076252999999994, 11.411752999999999], [106.075658000000004, 11.411740999999999], [106.075398000000007, 11.411621], [106.075123000000005, 11.411352000000001], [106.075029999999998, 11.410945999999999], [106.075028000000003, 11.410435], [106.075131999999996, 11.409879], [106.075688999999997, 11.407818000000001], [106.075733999999997, 11.407420999999999]]

const polygonData = data.map(coordsArr => {
  let coords = {
    latitude: coordsArr[1],
    longitude: coordsArr[0],
  }
  return coords
})

export default class MapScreenBase extends Component {

  constructor (props) {
    super(props)

    this.state = {
      region: {
        latitude: LATITUDE,
        longitude: LONGITUDE,
        latitudeDelta: LATITUDE_DELTA,
        longitudeDelta: LONGITUDE_DELTA,
      },
      polygons: [],
      editing: null,
      creatingHole: false,
    }
  }

  finish () {
    const { polygons, editing } = this.state
    this.setState({
      polygons: [...polygons, editing],
      editing: null,
      creatingHole: false,
    })
  }

  createHole () {
    const { editing, creatingHole } = this.state
    if (!creatingHole) {
      this.setState({
        creatingHole: true,
        editing: {
          ...editing,
          holes: [
            ...editing.holes,
            [],
          ],
        },
      })
    } else {
      const holes = [...editing.holes]
      if (holes[holes.length - 1].length === 0) {
        holes.pop()
        this.setState({
          editing: {
            ...editing,
            holes,
          },
        })
      }
      this.setState({ creatingHole: false })
    }
  }

  onPress (e) {
    const { editing, creatingHole } = this.state
    if (!editing) {
      this.setState({
        editing: {
          id: id++,
          coordinates: [e.nativeEvent.coordinate],
          holes: [],
        },
      })
    } else if (!creatingHole) {
      this.setState({
        editing: {
          ...editing,
          coordinates: [
            ...editing.coordinates,
            e.nativeEvent.coordinate,
          ],
        },
      })
    } else {
      const holes = [...editing.holes]
      holes[holes.length - 1] = [
        ...holes[holes.length - 1],
        e.nativeEvent.coordinate,
      ]
      this.setState({
        editing: {
          ...editing,
          id: id++, // keep incrementing id to trigger display refresh
          coordinates: [
            ...editing.coordinates,
          ],
          holes,
        },
      })
    }
  }

  onPressPolygon(data){
    Alert.alert(
      'Alert Title',
      'My Alert Msg',
      [
        {text: 'Ask me later', onPress: () => console.log('Ask me later pressed')},
        {
          text: 'Cancel',
          onPress: () => console.log('Cancel Pressed'),
          style: 'cancel',
        },
        {text: 'OK', onPress: () => console.log('OK Pressed')},
      ],
      {cancelable: false},
    );
  }

  render () {
    const mapOptions = {
      scrollEnabled: true,
    }

    if (this.state.editing) {
      mapOptions.scrollEnabled = false
      mapOptions.onPanDrag = e => this.onPress(e)
    }
    console.log('1111111111111111111')
    return (
      <View style={styles.container}>

        <MapView
          provider={PROVIDER_GOOGLE}
          style={styles.map}
          initialRegion={this.state.region}>
          <Polygon
            coordinates={polygonData}
            strokeColor="#000" // fallback for when `strokeColors` is not supported by the map-provider
            strokeColors={[
              '#7F0000',
              '#00000000', // no color, creates a "long" gradient between the previous and next coordinate
              '#B24112',
              '#E5845C',
              '#238C23',
              '#7F0000'
            ]}
            strokeWidth={1}
            fillColor="rgba(255,0,0,0.5)"
            tappable={true}
            onPress={() => this.onPressPolygon('foo')}
          />
        </MapView>


      </View>
    )
  }
}

MapScreenBase.propTypes = {
  provider: ProviderPropType,
}

const styles = StyleSheet.create({
  container: {
    ...StyleSheet.absoluteFillObject,
    justifyContent: 'flex-end',
    alignItems: 'center',
    flex: 1,
    position: 'relative'
  },
  map: {
    ...StyleSheet.absoluteFillObject,
  },
  bubble: {
    backgroundColor: 'rgba(255,255,255,0.7)',
    paddingHorizontal: 18,
    paddingVertical: 12,
    borderRadius: 20,
  },
  latlng: {
    width: 200,
    alignItems: 'stretch',
  },
  button: {
    width: 80,
    paddingHorizontal: 12,
    alignItems: 'center',
    marginHorizontal: 10,
  },
  buttonContainer: {
    flexDirection: 'row',
    marginVertical: 20,
    backgroundColor: 'transparent',
  },
})
